<VirtualHost *:80>
    # DocumentRoot を変更
    DocumentRoot /var/www/html/client

    <Directory /var/www/html/client>
        AllowOverride All
        Require all granted
    </Directory>

    # Next.js の .next フォルダを設定
    <Directory /var/www/html/client/.next>
        AllowOverride All
        Require all granted
    </Directory>

    # Laravel バックエンドの設定
    <Directory /var/www/html/server/public>
        AllowOverride All
        Require all granted
    </Directory>

    # Laravel バックエンドの設定
    <Directory /var/www/html/server>
        AllowOverride All
        Require all granted
    </Directory>


    ProxyPreserveHost On

　　 # API リクエストをバックエンドの Laravel に転送
    ProxyPass /api https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/api
    ProxyPassReverse /api https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/api

    ProxyPass /webReq https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/webReq
    ProxyPassReverse /webReq https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/webReq

    # 静的ファイルをフロントエンドの Next.js に転送
    ProxyPass /_next https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/_next
    ProxyPassReverse /_next https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/_next

    ProxyPass /public https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/public
    ProxyPassReverse /public https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/public

    # ルートへのリクエストをフロントエンドにプロキシ
    ProxyPass / https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/
    ProxyPassReverse / https://hairsalon-app-r-serori-42b8f52d82e6.herokuapp.com/

</VirtualHost>
